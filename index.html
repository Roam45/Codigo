<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codigo Editor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        textarea {
            width: 100%;
            height: 300px;
            font-family: monospace;
        }
        button {
            margin-top: 10px;
            padding: 10px;
        }
        #output {
            margin-top: 20px;
            border: 1px solid #ccc;
            padding: 10px;
            white-space: pre-wrap; /* To maintain formatting */
        }
    </style>
</head>
<body>

<h1>Codigo Editor</h1>
<textarea id="codeInput" placeholder="Write your Codigo code here..."></textarea>
<button id="runButton">Run Code</button>

<h2>Output</h2>
<div id="output"></div>

<script>
    document.getElementById('runButton').addEventListener('click', () => {
        const code = document.getElementById('codeInput').value;
        const outputDiv = document.getElementById('output');
        outputDiv.innerHTML = ''; // Clear previous output

        try {
            // Simple parser for Codigo
            const lines = code.split('\n');
            let variables = {};
            let result;

            lines.forEach(line => {
                line = line.trim();
                
                // Handle variable assignment
                if (line.startsWith('var.')) {
                    const [varName, value] = line.split('=').map(s => s.trim());
                    variables[varName] = value.replace(/["']/g, '').trim(); // Remove quotes
                }

                // Handle math operations
                const mathMatch = line.match(/Math\.(Add|Sub|Mul|Div)\(([^,]+), ([^,]+)\)/);
                if (mathMatch) {
                    const operation = mathMatch[1];
                    const var1 = variables[mathMatch[2].trim()];
                    const var2 = variables[mathMatch[3].trim()];
                    
                    if (var1 !== undefined && var2 !== undefined) {
                        switch (operation) {
                            case 'Add':
                                result = parseFloat(var1) + parseFloat(var2);
                                break;
                            case 'Sub':
                                result = parseFloat(var1) - parseFloat(var2);
                                break;
                            case 'Mul':
                                result = parseFloat(var1) * parseFloat(var2);
                                break;
                            case 'Div':
                                result = parseFloat(var1) / parseFloat(var2);
                                break;
                        }
                        outputDiv.innerHTML += result + '\n';
                    }
                }

                // Handle print statements
                if (line.startsWith('print')) {
                    const printVar = line.match(/print\(([^)]+)\)/);
                    if (printVar) {
                        const varToPrint = printVar[1].trim().replace(/["']/g, '');
                        if (variables[varToPrint] !== undefined) {
                            outputDiv.innerHTML += variables[varToPrint] + '\n';
                        }
                    }
                }
            });
        } catch (error) {
            outputDiv.innerHTML = 'Error: ' + error.message;
        }
    });
</script>

</body>
</html>
